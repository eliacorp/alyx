
<div class="payment" ng-controller="paymentCtrl" id="payment" ng-init="checkout.gateway='stripe'">
<!-- 3 -->

<div class="payment-content">

  <div class="payment-content-container">

    <h1 class="payment-h1">PAYMENT</h1>




    <div class="choice">
      <ul class="choice-ul">
        <li class="choice-li" ng-click="checkout.gateway='stripe'" ng-class="{'active': checkout.gateway == 'stripe'}"> <a>CARD</a></li>
        <li class="choice-li" ng-click="checkout.gateway='paypal-express'" ng-class="{'active': checkout.gateway == 'paypal-express'}"> <a>PAYPAL</a></li>
      </ul>
    </div>








    <div class="payment-form" ng-if="checkout.gateway=='paypal-express'">
      <p>
        click the pay button to be redirected to the paypal payment form
      </p>
      <form id="checkout" method="post" action="/checkout">
          <div id="payment-form"></div>
          <input type="submit" value="Pay $10">
        </form>

        <script src="https://js.braintreegateway.com/js/braintree-2.32.0.min.js"></script>

        <script type="text/javascript">
        // We generated a client token for you so you can test out this code
        // immediately. In a production-ready integration, you will need to
        // generate a client token on your server (see section below).
        var clientToken = "eyJ2ZXJzaW9uIjoyLCJhdXRob3JpemF0aW9uRmluZ2VycHJpbnQiOiJjYjhkMTQ3ODZjM2Y3NTNhNmEzMDRjNzUxMjVjM2U0YjYzMjJmMGViMzEyZjIwMDExYTBjNmU0YjBiMDRlZDk1fGNyZWF0ZWRfYXQ9MjAxNy0wNS0xMVQxNTozOTowNy4zNjMzODA2MzgrMDAwMFx1MDAyNm1lcmNoYW50X2lkPTM0OHBrOWNnZjNiZ3l3MmJcdTAwMjZwdWJsaWNfa2V5PTJuMjQ3ZHY4OWJxOXZtcHIiLCJjb25maWdVcmwiOiJodHRwczovL2FwaS5zYW5kYm94LmJyYWludHJlZWdhdGV3YXkuY29tOjQ0My9tZXJjaGFudHMvMzQ4cGs5Y2dmM2JneXcyYi9jbGllbnRfYXBpL3YxL2NvbmZpZ3VyYXRpb24iLCJjaGFsbGVuZ2VzIjpbXSwiZW52aXJvbm1lbnQiOiJzYW5kYm94IiwiY2xpZW50QXBpVXJsIjoiaHR0cHM6Ly9hcGkuc2FuZGJveC5icmFpbnRyZWVnYXRld2F5LmNvbTo0NDMvbWVyY2hhbnRzLzM0OHBrOWNnZjNiZ3l3MmIvY2xpZW50X2FwaSIsImFzc2V0c1VybCI6Imh0dHBzOi8vYXNzZXRzLmJyYWludHJlZWdhdGV3YXkuY29tIiwiYXV0aFVybCI6Imh0dHBzOi8vYXV0aC52ZW5tby5zYW5kYm94LmJyYWludHJlZWdhdGV3YXkuY29tIiwiYW5hbHl0aWNzIjp7InVybCI6Imh0dHBzOi8vY2xpZW50LWFuYWx5dGljcy5zYW5kYm94LmJyYWludHJlZWdhdGV3YXkuY29tLzM0OHBrOWNnZjNiZ3l3MmIifSwidGhyZWVEU2VjdXJlRW5hYmxlZCI6dHJ1ZSwicGF5cGFsRW5hYmxlZCI6dHJ1ZSwicGF5cGFsIjp7ImRpc3BsYXlOYW1lIjoiQWNtZSBXaWRnZXRzLCBMdGQuIChTYW5kYm94KSIsImNsaWVudElkIjpudWxsLCJwcml2YWN5VXJsIjoiaHR0cDovL2V4YW1wbGUuY29tL3BwIiwidXNlckFncmVlbWVudFVybCI6Imh0dHA6Ly9leGFtcGxlLmNvbS90b3MiLCJiYXNlVXJsIjoiaHR0cHM6Ly9hc3NldHMuYnJhaW50cmVlZ2F0ZXdheS5jb20iLCJhc3NldHNVcmwiOiJodHRwczovL2NoZWNrb3V0LnBheXBhbC5jb20iLCJkaXJlY3RCYXNlVXJsIjpudWxsLCJhbGxvd0h0dHAiOnRydWUsImVudmlyb25tZW50Tm9OZXR3b3JrIjp0cnVlLCJlbnZpcm9ubWVudCI6Im9mZmxpbmUiLCJ1bnZldHRlZE1lcmNoYW50IjpmYWxzZSwiYnJhaW50cmVlQ2xpZW50SWQiOiJtYXN0ZXJjbGllbnQzIiwiYmlsbGluZ0FncmVlbWVudHNFbmFibGVkIjp0cnVlLCJtZXJjaGFudEFjY291bnRJZCI6ImFjbWV3aWRnZXRzbHRkc2FuZGJveCIsImN1cnJlbmN5SXNvQ29kZSI6IlVTRCJ9LCJjb2luYmFzZUVuYWJsZWQiOmZhbHNlLCJtZXJjaGFudElkIjoiMzQ4cGs5Y2dmM2JneXcyYiIsInZlbm1vIjoib2ZmIn0=";

        braintree.setup(clientToken, "dropin", {
          container: "payment-form"
        });
        </script>

    </div>





    <form name="paymentForm" novalidate class="payment-form" method="post" ng-show="checkout.gateway=='stripe'">


      <div class="payment-form-card">
        <div class="form-entry">
          <input type="text" name="number" value="card number" ng-model="payment.number" required="required" placeholder="card number" onfocus="this.placeholder = ''" onblur="this.placeholder = 'card number'" min="0" max="10">
            <span ng-show="paymentForm.number.$error.integer">The value is not a valid integer!</span>
            <span ng-show="paymentForm.number.$error.min || paymentForm.number.$error.max">The value must be in range 0 to 10!</span>
          </input>
        </div>
        <div class="form-entry">
          <input type="text" name="month" value="expiry month" ng-model="payment.expiry_month" required="required" placeholder="expiry month (mm)" onfocus="this.placeholder = ''" onblur="this.placeholder = 'expiry month (mm)'" min="0" max="2">
            <span ng-show="paymentForm.month.$error.integer">The value is not a valid integer!</span>
            <span ng-show="paymentForm.month.$error.min || paymentForm.month.$error.max">The value must be in range 0 to 2!</span>
          </input>
        </div>
        <div class="form-entry">
          <input type="text" name="year" value="expiry year" ng-model="payment.expiry_year" required="required" placeholder="expiry year (yyyy)" onfocus="this.placeholder = ''" onblur="this.placeholder = 'expiry year (yyyy)'"  min="3" max="3">
            <span ng-show="paymentForm.year.$error.integer">The value is not a valid integer!</span>
            <span ng-show="paymentForm.year.$error.min || paymentForm.year.$error.max">The value must be in range 0 to 4!</span>
          </input>
        </div>
        <div class="form-entry">
          <input type="text" name="cvv" value="cvv" ng-model="payment.cvv" ng-value="cvv" required="required" placeholder="cvv" onfocus="this.placeholder = ''" onblur="this.placeholder = 'cvv'">
            <span ng-show="paymentForm.cvv.$error.integer">The value is not a valid integer!</span>
            <span ng-show="paymentForm.cvv.$error.min || paymentForm.cvv.$error.max">The value must be 3 characters</span>
          </input>
        </div>
      </div>

      <p class="form-creditcards-accepted">
        <span>visa</span><span>mastercard</span><span>american express</span>
      </p>


      <!-- <button type="submit" class="checkout-button hvr-sweep-to-right" ng-disabled="paymentForm.$invalid">PAY</button> -->
      <!-- hvr-sweep-to-right -->

    </form>

    <div class="payment-total" ng-show="Order">
      <p ng-if="Order.totals.subtotal.formatted">SUBTOTAL <span>{{Order.totals.subtotal.formatted}}</span></p>
      <p>SHIPPING <span>€{{Order.shipping_total}}</span></p>
      <p>TAXES <span>€{{Order.taxes_total}}</span></p>
      <p>TOTAL <span>€{{Order.total}}</span></p>
    </div>


  </div>











  </div> <!--  payment-content -->


</div>
